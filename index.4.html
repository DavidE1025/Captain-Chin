<!DOCTYPE html>
<html>
	<!-- David A. Emory 
			12/1/2014
			Text Adventure Game v0.8 -->
	<head> 
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<meta name="author" content="David Emory">
		<title>David Emory's: The Adventures of Captian Chin v0.8</title>
	<script type= "text/javascript" src= "locations.js"></script>
	<script type= "text/javascript" src= "navigation.js"></script>
	<script type= "text/javascript">
	//Items Array 
    var item = new Array(); 
        item[2] = itemMap;
        item[7] = itemLantern; 
        item[8] = itemFlint;
        item[9] = itemAncientSword; 
        item[14] = itemRum;
        
  //Inventory Array 
    var inventory = new Array(); 
    
	// Player location and Point scoring variables 
	  var score = 0;

	//Visited Location for scoring use 
	  var visitedLoc_0 = false;
	  var visitedLoc_1 = false;
	  var visitedLoc_2 = false; 
	  var visitedLoc_3 = false;
	  var visitedLoc_4 = false; 
	  var visitedLoc_5 = false;
	  var visitedLoc_6 = false;	  
	  var visitedLoc_7 = false;
	  var visitedLoc_8 = false;
	  var visitedLoc_9 = false;
	  var visitedLoc_10 = false;
	  var visitedLoc_11 = false;
	  var visitedLoc_12 = false;
	  var visitedLoc_13 = false;
	  var visitedLoc_14 = false; 
    
	//Display Text 
	  function dispMsg(msg) { 
			  var message = document.getElementById("taDisplay");  
				message.value= msg + "\n\n" + message.value;
		}
			
		//Display Score
		function dispScore(){ 
			var targetScore = document.getElementById("taScore"); 
				targetScore.value = score; 
	  } 

	  //Score Counter  
	  function scrCounter(){
          if (visitedLoc_0 === false && playerLoc === 0){ 
              visitedLoc_0 = true; 
              score += 5 
              dispScore(); 
          } 
          if (visitedLoc_1 === false && playerLoc === 1){
              visitedLoc_1 = true; 
              score += 5; 
              dispScore(); 
          }
          if (visitedLoc_2 === false && playerLoc === 2){
              visitedLoc_2 = true; 
              score += 5;  
              dispScore();
          }
          if (visitedLoc_3 === false && playerLoc === 3){ 
              visitedLoc_3 = true; 
              score += 5;
              dispScore();
          }
          if (visitedLoc_4 === false && playerLoc === 4){ 
              visitedLoc_4 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_5 === false && playerLoc === 5){ 
              visitedLoc_5 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_6 === false && playerLoc === 6){ 
              visitedLoc_6 = true; 
              score += 5 
              dispScore(); 
          }  
           if (visitedLoc_7 === false && playerLoc === 7){ 
              visitedLoc_7 = true; 
              score += 5 
              dispScore(); 
          }
           if (visitedLoc_8 === false && playerLoc === 8){ 
              visitedLoc_8 = true; 
              score += 5 
              dispScore(); 
          }
           if (visitedLoc_9 === false && playerLoc === 9){ 
              visitedLoc_9 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_10 === false && playerLoc === 10){ 
              visitedLoc_10 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_11 === false && playerLoc === 11){ 
              visitedLoc_11 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_12 === false && playerLoc === 12){ 
              visitedLoc_12 = true; 
              score += 5 
              dispScore(); 
          }  
          if (visitedLoc_12 === false && playerLoc === 12){ 
              visitedLoc_12 = true; 
              score += 5 
              dispScore(); 
          } 
          if (visitedLoc_13 === false && playerLoc === 13){ 
              visitedLoc_13 = true; 
              score += 5 
              dispScore(); 
          } 
          if (visitedLoc_14 === false && playerLoc === 14){ 
              visitedLoc_14 = true; 
              score += 5 
              dispScore(); 
          }           
    }
    
    //Button Disabler 
    function btnDisabler(){ 
            disNorth();
            disSouth();
            disEast();
            disWest();
    }
    function disNorth(){ 
        if (playerLoc === 0 || playerLoc === 2 ||playerLoc === 6 ||playerLoc === 8 ||playerLoc === 9 ||playerLoc === 13 ||playerLoc === 14){
              document.getElementById('btnNorth').disabled = true; 
        } else { 
            document.getElementById('btnNorth').disabled = false; 
          }
    }       
    function disSouth(){ 
        if (playerLoc === 0 ||playerLoc === 3 ||playerLoc === 6 ||playerLoc === 7 ||playerLoc === 8 ||playerLoc === 10 ||playerLoc === 11){
            document.getElementById('btnSouth').disabled = true; 
        } else { 
            document.getElementById('btnSouth').disabled = false; 
          }
    }        
    function disEast(){ 
        if (playerLoc === 2 ||playerLoc === 4 ||playerLoc === 6 ||playerLoc === 7 ||playerLoc === 9 ||playerLoc === 11 ||playerLoc === 12 ||playerLoc === 13){
            document.getElementById('btnEast').disabled = true;
        } else { 
            document.getElementById('btnEast').disabled = false; 
          }
    }
    function disWest(){ 
        if (playerLoc === 0 ||playerLoc === 2 ||playerLoc === 4 ||playerLoc === 7 ||playerLoc === 8 ||playerLoc === 9 ||playerLoc === 12 ||playerLoc === 14){
            document.getElementById('btnWest').disabled = true; 
        } else { 
            document.getElementById('btnWest').disabled = false;
          }
    }
            

    //Take Function
      function takeItem() {
        if (navigation[playerLoc].hasItem === true && item[playerLoc].takeItem === false){ 
        inventory.push(item[playerLoc].name);
        dispMsg("You took the " + item[playerLoc].name);
        item[playerLoc].takeItem = true;
        hiddenMap(); 
      } else { 
        dispMsg("There are no items in the area to take.");
        }
      }  
    
    //Map Visibility 
        function hiddenMap(){
          if (itemMap.takeItem === true){ 
              document.getElementById("gameMap").style.visibility = "visible";
          } else { 
              document.getElementById("gameMap").style.visibility = "hidden";
            }  
        }
        
    //Inventory Function 
        function dispInventory() { 
            var inventoryMsg = "Inventory:" + inventory;
            dispMsg(inventoryMsg);
        }    
        

    //enter key function 
    function txtEnter(e){
          if (e.which === 13){
              document.getElementById("btnGo").onclick(); 
          }
    }
            
	</script></head>
	<body onload = "location_Onload();" style = "text-align: center">
		<h1> The Adventures of Captain Chin: Treasure on Ghost Island v0.8 </h1>
		<textarea rows="20"  cols="60" id="taDisplay" readonly></textarea>
		<br>
		<input type = "button" 
           id = "btnGo"
           value = "Go" 
           onclick = "btnGo_Click();"/> 
           
		<input type = "text"
           id = "txtCommand"
           placeholder = "Enter Your Command"
           onkeypress = "txtEnter(event)"/>
		<input type = "button"
						id = "btnInvent" 
						value = "Inventory" 
						onclick = "dispInventory();"/> 
          <br/>
          <br/>
		<input type = "button"
           value = "North" 
           id = "btnNorth" 
           onclick = "dirNorth();"/> 
			   
		<input type = "button"
           value = "South"
           id = "btnSouth"
           onclick = "dirSouth();"/>
			   
		<input type = "button"
           value = "West"
           id = "btnWest"
           onclick = "dirWest();"/>
		
		<input type = "button" 
           value = "East"
           id = "btnEast" 
           onclick = "dirEast();"/>       
		<p> Score
		<br>
		<textarea rows="1" cols= "5" id="taScore" readonly></textarea>
		</p>
		<p>
		<img src = "map.jpg" alt = "Map" id = "gameMap">
		</p>
		<p> Having Issues? 
		<a href="mailto:david.emory@marist.edu"> Click Here </a> 
		</p>
		<p> 
		<a href="http://validator.w3.org/#validate_by_input"> Validate </a>	
		</p>
	</body>
</html>